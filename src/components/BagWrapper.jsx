import React from 'react';

import { connect } from 'react-redux';
import { addProductToCart, removeProductFromCart } from '../features/cart/actions';
import Bag from './Bag';

const mapStateToProps = (state, _) => {
  const {
    cart: { items, quantity }
  } = state.cartReducer;
  const {
    currency: { index }
  } = state.currencyReducer;

  return {
    currencyIndex: index,
    items: items,
    quantity: quantity
  };
};

const mapDispatchToProps = (dispatch) => ({
  addProductToCart: (product) => dispatch(addProductToCart(product)),
  removeProductFromCart: (product) => dispatch(removeProductFromCart(product))
});

const wrapper = connect(mapStateToProps, mapDispatchToProps);
const BagContainer = wrapper(Bag);
const BagWrapper = () => {
  return <BagContainer />;
};

export default BagWrapper;
